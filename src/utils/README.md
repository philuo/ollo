# 雪碧图合成工具 (Sprite Sheet Composer)

## 功能说明

这是一个可视化的雪碧图合成工具，允许你将多张独立的图片合成为一张雪碧图。

## 使用步骤

### 1. 创建画布

在左侧配置面板中：
- 输入**画布宽度**和**画布高度**（例如：512 x 512）
- 输入**网格宽度**和**网格高度**（例如：64 x 64）
- （可选）配置**画布填充**：设置画布的上下左右边距，网格组将在填充后的区域左上角对齐
- （可选）配置**网格填充**：设置每个网格的上下左右内边距
- （可选）配置**网格间隙**：设置网格之间的水平和垂直间隙
- 点击**创建画布**按钮

系统会自动计算网格数量：
- 例如 512x512 的画布，64x64 的网格 = 8行 x 8列 = 64个网格
- 如果设置了画布填充，会从可用空间中计算
- 如果设置了网格间隙，计算公式：`n个网格 + (n-1)个间隙 <= 可用空间`

### 2. 上传图片

- 点击**+ 上传图片**按钮
- 可以一次选择多张图片
- 上传的图片会显示在**图片库**中

### 3. 填充网格

有两种方式填充图片到网格：

#### 方式一：点击填充（推荐）
1. 点击画布上的某个网格，该网格会高亮显示（蓝色边框）
2. 点击图片库中的图片，该图片会自动填入选中的网格
3. 填入后，系统会**自动选中下一个网格**：
   - 优先选中同一行的下一个网格（向右）
   - 如果是最后一列，选中下一行的第一个网格（向下换行）
   - 如果是最后一个网格，回到第一个网格

#### 方式二：手动选择
1. 先选中网格
2. 再点击图片
3. 重复此过程

### 4. 编辑网格

- **清空网格**：双击已填充的网格可以清空它
- **重新选择**：单击任意网格可以选中它
- **查看图片**：点击已填充的网格，图片库会自动高亮对应的图片（绿色边框）
- **删除图片**：在图片库中，悬停图片会显示 × 按钮，点击可从库中删除
- **修改参数**：创建画布后，可以修改以下参数并点击"应用修改"：
  - 画布填充（上下左右）
  - 网格间隙（水平/垂直）
  - 网格尺寸（宽度/高度）

### 5. 导出雪碧图

- 确保所有需要的图片都已填充到网格中
- 点击**📥 导出雪碧图**按钮
- 系统会自动下载合成的PNG图片

### 6. 重新配置

如果需要修改画布或网格尺寸：
- 点击**重新配置**按钮
- 重新设置参数并创建画布

## 快捷操作

- **单击网格**：选中网格（已填充的网格会高亮对应图片）
- **双击网格**：清空网格中的图片
- **点击图片**：将图片填入选中的网格并自动选中下一个
- **悬停图片**：显示删除按钮
- **绿色边框**：表示图片库中被选中网格对应的图片
- **蓝色边框**：表示当前选中的网格

## 使用技巧

1. **批量填充**：上传所有图片后，从第一个网格开始，依次点击图片即可自动按顺序填充
2. **网格规划**：建议先计算好需要多少张图片，再设置合适的网格数量
3. **图片尺寸**：上传的图片会自动缩放以适应网格大小
4. **像素完美**：使用像素化渲染，适合像素风格的游戏素材
5. **画布填充**：
   - 在雪碧图周围添加边距，例如设置上下左右各2px
   - 网格组始终对齐在填充后区域的左上角
   - 创建画布后可以继续调整
6. **网格填充**：用于在每个图片周围添加间距，防止图片之间相互影响（如1px的边距可以防止纹理渗色）
7. **网格间隙**：
   - 在相邻网格之间添加间隔
   - 水平间隙：列与列之间的距离
   - 垂直间隙：行与行之间的距离
   - 适用于需要明确分隔的雪碧图
8. **动态调整**：创建画布后可随时修改所有参数，已填充的图片会保留
9. **快速定位**：点击已填充的网格，图片库会高亮显示对应的图片，方便查找

## 常见应用场景

- **游戏动画帧**：将角色的各个动作帧合成为一张雪碧图
- **UI图标集**：将多个UI图标合并为一张图
- **瓦片地图**：合成瓦片地图的图块集
- **表情包**：整理多个表情图片

## 注意事项

- 画布和网格尺寸必须是正整数
- 建议网格尺寸能整除画布尺寸，避免浪费空间
- 导出的PNG图片会包含所有已填充的网格内容
- 未填充的网格在导出时为透明

## 技术特点

- ✅ 纯前端实现，无需后端服务器
- ✅ 实时预览，所见即所得
- ✅ 自动高亮下一个网格，提高填充效率
- ✅ 支持批量上传图片
- ✅ 支持删除和重新排列图片
- ✅ 像素完美渲染
- ✅ 灵活的填充配置：
  - 画布填充（上下左右）
  - 网格填充（上下左右）
  - 网格间隙（水平/垂直）
- ✅ 动态修改所有参数，保留已填充数据
- ✅ 智能图片高亮，快速定位对应关系
- ✅ 可视化的配置界面
- ✅ 网格组自动对齐到填充后区域的左上角

